---
id: zrt5hm2q
title: Untitled doc
file_version: 1.1.3
app_version: 1.18.42
---

We need two tables to determine the next move for our chess game.

This would involve getting the FEN position of pieces and the next move made in the training data

FEN position: [https://www.wikiwand.com/en/Forsyth%E2%80%93Edwards\_Notation](https://www.wikiwand.com/en/Forsyth%E2%80%93Edwards_Notation)

"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"

nbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR is the board representation

"w" is the player that is currently playing

"KQkq" describes black and white kings' ability to castle

<br/>

For adding the next\_move column the following sql scripts should run:

<br/>


<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ app/src/main/kotlin/chess/database/chess_database_columns.sql
```plsql
22     CREATE TABLE CHESS_DATA_NEW AS
23     SELECT
24         ROUND_ID,
25         GAME_ID,
26         ROUND,
27         BOARD_REPRESENTATION,
28         PIECE_COUNT,
29         LEGAL_MOVES,
30         THREATS_AND_ATTACKS,
31         PIECE_ACTIVITY,
32         KING_SAFETY,
33         PAWN_STRUCTURE,
34         MATERIAL_BALANCE,
35         CENTER_CONTROL,
36         PREVIOUS_MOVES,
37         MOVE,
38         WHITE_WINS,
39         BLACK_WINS,
40         WINNER,
41         COALESCE(LEAD(MOVE) OVER (PARTITION BY GAME_ID ORDER BY ROUND), '') AS NEXT_MOVE
42     FROM CHESS_DATA;
43     
44     DROP TABLE CHESS_DATA;
45     
46     ALTER TABLE CHESS_DATA_NEW
47         RENAME TO CHESS_DATA;
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBQ2hlc3MlM0ElM0FvYnNjdXJlLXN0YXI=/docs/zrt5hm2q).
