---
id: k4l3up58
title: Rook data class
file_version: 1.1.3
app_version: 1.18.32
---

This code snippet defines a `Rook` class that represents a rook chess piece. It implements the `PieceType` interface and overrides its `movePattern` function. The `movePattern` function calculates the valid positions that the rook can move to on a chessboard, given its current position and the positions of other pieces on the board. The valid positions are stored in a set and returned by the function. The `Rook` class also has properties for the name, point value, and image representation of the rook, as well as a boolean property to track whether the rook can still castle.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ app/src/main/kotlin/chess/common/model/pieceTypes/Rook.kt
```kotlin
7      data class Rook(
8          override val name: String = "rook",
9          override val point: Int = 5,
10         override val image: String = " R ",
11         var canCastle: Boolean = true,
12     ) : PieceType {
13         override fun movePattern(
14             position: Position,
15             playerPiecePositions: List<String>,
16             otherPlayerPiecePositions: List<String>,
17             otherPlayerAllOpenPieces: List<Position>,
18         ): Set<Position> {
19             val validPositions = mutableSetOf<Position>()
20     
21             fun addIfValid(
22                 colOffset: Int,
23                 rowOffset: Int,
24             ) {
25                 var newCol = position.column.toColumnNumber() + colOffset + 1
26                 var newRow = position.row + rowOffset
27     
28                 while (newCol in 1..8 && newRow in 1..8) {
29                     if (playerPiecePositions.contains("${newCol.toColumn()}$newRow")
30                     ) {
31                         break // Stop if we encounter our own piece
32                     }
33     
34                     validPositions.add(Position(newRow, newCol.toColumn()))
35     
36                     if (otherPlayerPiecePositions.contains("${newCol.toColumn()}$newRow")) {
37                         break // Stop if we encounter an opponent's piece
38                     }
39     
40                     newCol += colOffset
41                     newRow += rowOffset
42                 }
43             }
44     
45             // Horizontal and Vertical
46             for (offset in -1..1) {
47                 if (offset != 0) {
48                     addIfValid(offset, 0) // Horizontal
49                     addIfValid(0, offset) // Vertical
50                 }
51             }
52     
53             // fancyPrintln("These are the valid positions: $validPositions")
54             return validPositions
55         }
56     }
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBQ2hlc3MlM0ElM0FvYnNjdXJlLXN0YXI=/docs/k4l3up58).
