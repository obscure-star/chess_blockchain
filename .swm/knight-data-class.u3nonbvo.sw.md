---
id: u3nonbvo
title: Knight data class
file_version: 1.1.3
app_version: 1.18.32
---

This code snippet defines a `Knight` class that implements the `PieceType` interface. The `Knight` class represents a chess piece with a name, point value, and an image. It overrides the `movePattern` function, which calculates the valid positions where the knight can move on a chessboard given its current position and the positions of other pieces on the board. The function uses nested loops to iterate over possible knight offsets and adds valid positions to a set. The code also includes a helper function `addIfValid` to check if a position is valid and adds it to the set of valid positions.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ app/src/main/kotlin/chess/common/model/pieceTypes/Knight.kt
```kotlin
8      data class Knight(
9          override val name: String = "knight",
10         override val point: Int = 3,
11         override val image: String = " N ",
12     ) : PieceType {
13         override fun movePattern(
14             position: Position,
15             playerPiecePositions: List<String>,
16             otherPlayerPiecePositions: List<String>,
17             otherPlayerAllOpenPieces: List<Position>,
18         ): Set<Position> {
19             val validPositions = mutableSetOf<Position>()
20     
21             fun addIfValid(
22                 colOffset: Int,
23                 rowOffset: Int,
24             ) {
25                 val newCol = position.column.toColumnNumber() + colOffset + 1 // index should start at 1
26                 val newRow = position.row + rowOffset
27     
28                 if (newCol in 1..8 && newRow in 1..8 &&
29                     !playerPiecePositions.contains("${newCol.toColumn()}$newRow")
30                 ) {
31                     validPositions.add(Position(newRow, newCol.toColumn()))
32                 }
33             }
34     
35             // Knight moves in an "L" shape: two squares in one direction and one square perpendicular to that
36             val knightOffsets = listOf(-2, -1, 1, 2)
37     
38             for (colOffset in knightOffsets) {
39                 for (rowOffset in knightOffsets) {
40                     if (abs(colOffset) != abs(rowOffset)) {
41                         addIfValid(colOffset, rowOffset)
42                     }
43                 }
44             }
45     
46             // fancyPrintln("These are the valid positions: $validPositions")
47             return validPositions
48         }
49     }
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBQ2hlc3MlM0ElM0FvYnNjdXJlLXN0YXI=/docs/u3nonbvo).
