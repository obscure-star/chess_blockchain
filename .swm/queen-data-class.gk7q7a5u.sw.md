---
id: gk7q7a5u
title: Queen data class
file_version: 1.1.3
app_version: 1.18.32
---

This code snippet defines a `Queen` class that implements the `PieceType` interface. It overrides the `movePattern` function to determine the valid positions that a queen can move to on a chessboard. The function takes into account the current position of the queen, the positions of the player's pieces, the positions of the opponent's pieces, and the available open positions for the opponent's pieces. The valid positions are calculated for horizontal, vertical, and diagonal movements.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ app/src/main/kotlin/chess/common/model/pieceTypes/Queen.kt
```kotlin
7      data class Queen(
8          override val name: String = "queen",
9          override val point: Int = 9,
10         override val image: String = " Q ",
11     ) : PieceType {
12         override fun movePattern(
13             position: Position,
14             playerPiecePositions: List<String>,
15             otherPlayerPiecePositions: List<String>,
16             otherPlayerAllOpenMoves: List<Position>,
17         ): Set<Position> {
18             val validPositions = mutableSetOf<Position>()
19     
20             fun addIfValid(
21                 colOffset: Int,
22                 rowOffset: Int,
23             ) {
24                 var newCol = position.column.toColumnNumber() + colOffset + 1
25                 var newRow = position.row + rowOffset
26     
27                 while (newCol in 1..8 && newRow in 1..8) {
28                     if (playerPiecePositions.contains("${newCol.toColumn()}$newRow")
29                     ) {
30                         break // Stop if we encounter our own piece or check
31                     }
32     
33                     validPositions.add(Position(newRow, newCol.toColumn()))
34     
35                     if (otherPlayerPiecePositions.contains("${newCol.toColumn()}$newRow")) {
36                         break // Stop if we encounter other player piece
37                     }
38     
39                     newCol += colOffset
40                     newRow += rowOffset
41                 }
42             }
43     
44             // Horizontal and Vertical
45             for (offset in -1..1) {
46                 if (offset != 0) {
47                     addIfValid(offset, 0) // Horizontal
48                     addIfValid(0, offset) // Vertical
49                 }
50             }
51     
52             // Diagonals
53             for (colOffset in -1..1) {
54                 for (rowOffset in -1..1) {
55                     if (colOffset != 0 || rowOffset != 0) {
56                         addIfValid(colOffset, rowOffset)
57                     }
58                 }
59             }
60     
61             // fancyPrintln("These are the valid positions: $validPositions")
62             return validPositions
63         }
64     }
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBQ2hlc3MlM0ElM0FvYnNjdXJlLXN0YXI=/docs/gk7q7a5u).
